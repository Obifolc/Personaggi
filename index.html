<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="it">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta charset="UTF-8" />
  <title>üïπÔ∏è Serena majestico</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Press Start 2P', cursive;
      background: radial-gradient(circle at center, #001a33 0%, #000814 100%);
      color: #66ccff;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      text-shadow: 0 0 5px #3399ff, 0 0 10px #0066cc;
      position: relative;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        to right, rgba(0, 153, 255, 0.1) 0px, rgba(0, 153, 255, 0.1) 2px, transparent 2px, transparent 40px
      ), repeating-linear-gradient(
        to bottom, rgba(0, 153, 255, 0.1) 0px, rgba(0, 153, 255, 0.1) 2px, transparent 2px, transparent 40px
      );
      animation: moveGrid 30s linear infinite;
      z-index: 0;
      filter: drop-shadow(0 0 5px #3399ff);
    }

    @keyframes moveGrid {
      from { background-position: 0 0; }
      to { background-position: 40px 40px; }
    }

    /* üî∑ LOGO */
    .logo-container {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 30px;
      background: rgba(0, 30, 60, 0.6);
      border: 2px solid #66ccff;
      border-radius: 16px;
      box-shadow: 0 0 15px #3399ff, 0 0 25px #66ccff inset;
      backdrop-filter: blur(8px);
      z-index: 3;
      text-align: center;
      animation: pulseGlow 3s ease-in-out infinite;
    }

    .logo-container img {
      max-height: 60px;
      vertical-align: middle;
      filter: drop-shadow(0 0 5px #66ccff);
    }

    @media screen and (max-width: 600px) {
  .logo-container {
    top: 10px;
    padding: 8px 20px;
    border-radius: 12px;
    max-width: 90vw;
  }

  .logo-container img {
    max-height: 40px;
    width: auto;
  }
}


    @keyframes pulseGlow {
      0%, 100% {
        box-shadow: 0 0 15px #3399ff, 0 0 25px #66ccff inset;
      }
      50% {
        box-shadow: 0 0 25px #66ccff, 0 0 35px #3399ff inset;
      }
    }

    #startMenu {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      background-color: rgba(0, 0, 0, 0.7);
    }

    #startMenu h1 {
      font-size: 1.2em;
      margin-bottom: 20px;
      color: #99ccff;
      background-color: rgba(0, 51, 102, 0.6);
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #3399ff;
    }

    #startButton {
      font-size: 0.8em;
      padding: 14px 40px;
      border: 3px solid #66ccff;
      background: linear-gradient(145deg, #003366, #0055aa);
      border-radius: 12px;
      color: #aaddff;
      cursor: pointer;
      box-shadow: 0 0 18px #3399ff;
      text-shadow: 0 0 4px #003366;
      transition: all 0.3s ease-in-out;
    }

    #startButton:hover {
      background: linear-gradient(145deg, #3399ff, #66ccff);
      transform: scale(1.1);
      color: #001a33;
      box-shadow: 0 0 30px #66ccff, 0 0 15px #3399ff inset;
    }

    .character-wrapper {
      display: none;
      flex-direction: row;
      gap: 30px;
      align-items: center;
      justify-content: center;
      z-index: 1;
      padding: 20px;
      max-width: 100vw;
      flex-wrap: wrap;
      box-sizing: border-box;
    }

    .thumbnail {
  width: 50px;
  height: 50px;
  border: 2px solid #66ccff;
  border-radius: 10px;
  background-size: cover;
  background-position: top center;
  background-repeat: no-repeat;
  background-color: #001a33;
  cursor: pointer;
  box-shadow: 0 0 8px #3399ff;
  opacity: 0.7;
  transition: all 0.2s ease-in-out;
}
.thumbnail-list {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  max-width: 90vw;
  overflow-x: auto;
  overflow-y: hidden;
  border-right: none;
  border-bottom: 2px solid #3399ff55;
  padding: 10px 0;
  justify-content: center;
  gap: 12px;
}

    .thumbnail:hover,
    .thumbnail.active {
      opacity: 1;
      transform: scale(1.1);
      box-shadow: 0 0 12px #66ccff;
    }

    .character-container {
      width: 100%;
      max-width: 300px;
      padding: 20px;
      border: 2px solid #3399ff;
      border-radius: 12px;
      background: linear-gradient(135deg, #001a33cc, #002b4dcc);
      box-shadow: 0 0 25px #3399ffaa inset, 0 0 18px #0066cc;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .image-box {
      width: 200px;
      height: 200px;
      border: 4px solid #66ccff;
      border-radius: 10px;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      background-color: #001a33;
      margin-bottom: 15px;
      box-shadow: 0 0 10px #66ccff, inset 0 0 10px #000;
    }

    .name {
      font-size: 0.85em;
      color: #ccf2ff;
      text-transform: uppercase;
      margin-bottom: 10px;
      text-shadow: 0 0 5px #66ccff;
    }

    .description {
      font-size: 0.7em;
      color: #aaddff;
      min-height: 50px;
      line-height: 1.4em;
      margin-bottom: 20px;
      padding: 0 10px;
      text-shadow: 0 0 4px #3399ff;
    }

    .buttons {
      display: flex;
      gap: 30px;
      justify-content: center;
    }

    button {
      width: 50px;
      height: 50px;
      font-size: 1.2em;
      font-family: 'Press Start 2P', cursive;
      border: 2px solid #66ccff;
      border-radius: 50%;
      background: linear-gradient(145deg, #003366, #0055aa);
      color: #aaddff;
      cursor: pointer;
      text-shadow: 0 0 4px #003366;
      box-shadow: 0 0 12px #3399ff;
      transition: all 0.3s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
    }

       button:hover {
      background: linear-gradient(145deg, #3399ff, #66ccff);
      color: #001a33;
      box-shadow: 0 0 20px #66ccff, 0 0 12px #3399ff inset;
      transform: scale(1.1) rotate(-3deg);
    }

    /* ‚úÖ RESPONSIVE PER MOBILE */
    @media screen and (max-width: 600px) {
      .character-wrapper {
        flex-direction: column;
        align-items: center;
        gap: 20px;
        overflow-y: auto;
        max-height: 100vh;
      }

      .thumbnail-list {
        flex-direction: row;
        flex-wrap: wrap;
        max-height: none;
        max-width: 90vw;
        overflow-x: auto;
        border-right: none;
        border-bottom: 2px solid #3399ff55;
        padding-bottom: 10px;
        justify-content: center;
      }

      .thumbnail {
        width: 50px;
        height: 50px;
      }

      .character-container {
        width: 90%;
        max-width: 300px;
      }

      .image-box {
        width: 160px;
        height: 160px;
      }
    }

    
#selectButton {
 font-size: 0.7em;
 width: 60%;
 height: 40px;
 margin-top: 8px;
      padding: 10px 10px;
      border: 3px solid #66ccff;
      background: linear-gradient(145deg, #003366, #0055aa);
      border-radius: 12px;
      color: #aaddff;
      cursor: pointer;
      box-shadow: 0 0 18px #3399ff;
      text-shadow: 0 0 4px #003366;
      transition: all 0.3s ease-in-out;
}

#selectButton:hover {
  background: linear-gradient(145deg, #3399ff, #66ccff);
  color: #001a33;
  box-shadow: 0 0 20px #66ccff, 0 0 12px #3399ff inset;
  transform: scale(1.05);
}
  </style>
</head>
<body>

  <!-- üî∑ LOGO -->
  <div class="logo-container">
    <img src="Logo.png" alt="Logo del gioco" />
  </div>

  <!-- MENU INIZIALE -->
  <div id="startMenu">
    <h1>Serena Majestico!</h1>
    <button id="startButton">Inizia</button>
  </div>

  <!-- SELETTORE PERSONAGGI -->
  <div class="character-wrapper" id="characterWrapper">
    <div class="thumbnail-list" id="thumbnailList">
      <!-- Miniature generate dinamicamente -->
    </div>

    <div class="character-container" id="characterContainer">
      <div class="image-box" id="imageBox"></div>
      <div class="name" id="name">Nome</div>
      <div class="description" id="description">Descrizione</div>
    <div class="buttons">
  <button onclick="prevCharacter()">&larr;</button>
  <button onclick="nextCharacter()">&rarr;</button>
</div>
<button id="selectButton" >Seleziona</button>
    </div>
  </div>

  <div id="gameContainer" style="display:none; position: relative; width: 600px; height: 400px; border: 2px solid #66ccff; overflow: hidden; background: rgba(0, 20, 40, 0.6); margin: 20px auto; border-radius: 12px; box-shadow: 0 0 20px #3399ff;">
<div id="gameCharacter" style="position: absolute; bottom: 0; left: 50px; width: 50px; height: 50px; background-size: contain; background-repeat: no-repeat; background-position: center; filter: drop-shadow(0 0 6px #66ccff);"></div>
<div id="gameObstacle" style="position: absolute; bottom: 0; left: -50px; width: 25px; height: 25px; background: linear-gradient(145deg, #ff0033, #cc0000); border: 10px solid #ff6688; border-radius: 10px; box-shadow: 0 0 10px #ff3366;"></div>
 <div id="score" style="position: absolute; top: 10px; right: 20px; font-size: 12px; font-family: 'Press Start 2P', cursive; color: #66ccff; text-shadow: 0 0 5px #3399ff;">Punteggio: 0</div>

</div>

  <script>
    const characters = [
      { name: "Michelino", description: "Il genio ribelle del gruppo.", image: "Michelino.PNG" },
      { name: "Masella", description: "Sempre con un'idea fuori dagli schemi.", image: "Masella.png" },
      { name: "Daraio", description: "Il leader silenzioso, sempre lucido.", image: "Daraio.PNG" },
      { name: "Obifolc", description: "Maestro di saggezza e battute nerd.", image: "Obifolc.PNG" },
      { name: "Berarducci", description: "Canta le gesta del suo fedele Rambo, star della cucina.", image: "Berarducci.PNG" },
      { name: "Martina", description: "Tattica e velocissima nei riflessi.", image: "Martina.PNG" },
      { name: "Erika", description: "Sorriso dolce, pugno durissimo.", image: "Erika.PNG" },
      { name: "Michele", description: "Lo stratega calmo, ma letale.", image: "Michele.PNG" },
      { name: "Ciuffo", description: "Il misterioso outsider dal passato oscuro.", image: "Ciuffo.png" },
      { name: "Rambo", description: "Il suo potere speciale? Il certificato medico.", image: "Rambo.png" },
      { name: "Bubola", description: "bau.", image: "Bubola.png" }
    ];

    let current = 0;
    const container = document.getElementById('characterContainer');
    const wrapper = document.getElementById('characterWrapper');
    const imageBox = document.getElementById('imageBox');
    const nameEl = document.getElementById('name');
    const descEl = document.getElementById('description');
    const startMenu = document.getElementById('startMenu');
    const startButton = document.getElementById('startButton');
    const thumbnailList = document.getElementById('thumbnailList');

    function updateCharacter() {
      const c = characters[current];
      imageBox.style.backgroundImage = `url(${c.image})`;
      nameEl.textContent = c.name;
      descEl.textContent = c.description;

      // Evidenzia la miniatura selezionata
      const thumbnails = document.querySelectorAll('.thumbnail');
      thumbnails.forEach((thumb, index) => {
        thumb.classList.toggle('active', index === current);
      });
    }

    function animateContainer() {
      container.classList.add('animate');
      setTimeout(() => container.classList.remove('animate'), 300);
    }

    function nextCharacter() {
      current = (current + 1) % characters.length;
      updateCharacter();
      animateContainer();
    }

    function prevCharacter() {
      current = (current - 1 + characters.length) % characters.length;
      updateCharacter();
      animateContainer();
    }

    function generateThumbnails() {
      thumbnailList.innerHTML = '';
      characters.forEach((c, index) => {
        const thumb = document.createElement('div');
        thumb.classList.add('thumbnail');
        thumb.style.backgroundImage = `url(${c.image})`;
        thumb.addEventListener('click', () => {
          current = index;
          updateCharacter();
          animateContainer();
        });
        thumbnailList.appendChild(thumb);
      });
    }

  startButton.addEventListener('click', () => {
  startMenu.style.display = 'none';
  wrapper.style.display = 'flex';
  generateThumbnails();
  updateCharacter();

  const bgMusic = document.getElementById('bgMusic');
  bgMusic.volume = 0.3;
  bgMusic.play().catch(err => {
    console.log('Errore nell‚Äôavvio della musica:', err);
  });
});

document.addEventListener("visibilitychange", () => {
  const bgMusic = document.getElementById("bgMusic");

  if (document.hidden) {
    bgMusic.pause();
  } else {
    bgMusic.play().catch(err => {
      console.log('Impossibile riprendere la musica:', err);
    });
  }
});

const selectButton = document.getElementById('selectButton');

selectButton.addEventListener('click', () => {
  const selectedCharacter = characters[current];

  // Nascondi il selettore personaggi
  wrapper.style.display = 'none';

  // Mostra il contenitore del gioco
  const gameContainer = document.getElementById('gameContainer');
  gameContainer.style.display = 'block';

  // Imposta l'immagine del personaggio nel gioco
  const gameCharacter = document.getElementById('gameCharacter');
  gameCharacter.style.backgroundImage = `url(${selectedCharacter.image})`;
  gameCharacter.style.bottom = '0px'; // posizione iniziale
 

  // Variabili di gioco
  const gameObstacle = document.getElementById('gameObstacle');
  const scoreEl = document.getElementById('score');
  let score = 0;
  let isJumping = false;
  let gameOver = false;

  // Funzione salto
  function jump() {
    if (isJumping) return;
    isJumping = true;
    let position = 0;
    const jumpHeight = 150;
    const jumpSpeed = 15;

    const upInterval = setInterval(() => {
      if (position >= jumpHeight) {
        clearInterval(upInterval);

        const downInterval = setInterval(() => {
          if (position <= 0) {
            clearInterval(downInterval);
            isJumping = false;
          } else {
            position -= jumpSpeed;
            gameCharacter.style.bottom = position + 'px';
          }
        }, 20);
      } else {
        position += jumpSpeed;
        gameCharacter.style.bottom = position + 'px';
      }
    }, 20);
  }

  // Controllo tasto spazio per saltare
  document.addEventListener('keydown', (e) => {
    if (e.code === 'Space' && !gameOver) {
      e.preventDefault();
      jump();
    }
  });

  // Salto con tap/touch su gameContainer
  gameContainer.addEventListener('touchstart', (e) => {
    e.preventDefault();
    if (!gameOver) jump();
  });

  // Muovi l'ostacolo e controllo collisioni
  let obstaclePosition = gameContainer.offsetWidth;
  const obstacleSpeed = 4; // velocit√† movimento ostacolo in px

  function gameLoop() {
    if (gameOver) return;

    obstaclePosition -= obstacleSpeed;
    if (obstaclePosition < -30) { // reset ostacolo dopo uscita dal bordo sx
      obstaclePosition = gameContainer.offsetWidth;
      score++;
      scoreEl.textContent = `Punteggio: ${score}`;
    }

    gameObstacle.style.left = obstaclePosition + 'px';

    // Controlla collisione (semplice bounding box)
    const characterBottom = parseInt(gameCharacter.style.bottom) || 0;
    if (
      obstaclePosition < 100 && obstaclePosition > 50 && // posizione ostacolo vicino al personaggio
      characterBottom < 50 // se personaggio non √® sufficientemente alto, collisione
    ) {
      gameOver = true;
      alert(`Game Over! Punteggio finale: ${score}`);
      // Ricarica pagina o reset gioco
      window.location.reload();
    }

    requestAnimationFrame(gameLoop);
  }

  // Avvia ciclo di gioco
  gameLoop();
});

  </script>

<audio id="bgMusic" loop>
  <source src="sound.wav" type="audio/wav">
  Il tuo browser non supporta l'elemento audio.
</audio>
</body>
</html>
